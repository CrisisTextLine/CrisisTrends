"use strict";!function(){function t(){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status&&(c=JSON.parse(t.responseText))}),t.open("GET","data/quotes.json"),t.send()}function e(){s.attr("height",u),n(),r.style.display="none"}function n(t){l=r.offsetWidth,s.attr("width",l),t!==!0&&o()}function o(t){if(void 0===t){if(void 0===v)return;t=v}else v=t;s.selectAll("g").remove(),f=s.append("g").attr("transform","translate("+[l>>1,u>>1]+")");var e=0,n=1e6;for(var o in t)t[o].c>e&&(e=t[o].c),t[o].c<n&&(n=t[o].c);var r=d3.scale.linear().range([50,120]).domain([10,960])(l),d=d3.scale.linear().range([12,r]).domain([n,e]);d3.layout.cloud().size([l,u]).words(t).rotate(function(){return 0}).font("Impact").fontSize(function(t){return d(t.c)}).text(function(t){return t.w}).on("end",a).start()}function a(t,e){var n=e?Math.min(l/Math.abs(e[1].x-l/2),l/Math.abs(e[0].x-l/2),u/Math.abs(e[1].y-u/2),u/Math.abs(e[0].y-u/2))/2:1;f.selectAll("text").data(t).enter().append("text").attr("text-anchor","middle").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(){return"rgba(0,0,0,"+(.5*Math.random()+.25)+")"}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.w}),f.attr("transform","translate("+[l>>1,u>>1]+")scale("+n+")")}var r=document.getElementById("wordcloud"),d=document.getElementById("wordcloud-quote"),i=500,s=d3.select(r).append("svg"),c=void 0,l=void 0,u=i,f=void 0,v=void 0;window.bootstrapWordCloud=function(){t(),e(),window.addEventListener("resize-complete",n)},document.getElementById("wordcloud-select").addEventListener("change",function(){var t=this.value;r.style.display="block",n(!0),d3.json("data/words/"+t+".json",function(e,n){return e?console.warn(e):(void 0!==c&&(d.innerHTML="<p>"+c[t]+"</p>"),void o(n))})})}();
//# sourceMappingURL=word-cloud.js.map
