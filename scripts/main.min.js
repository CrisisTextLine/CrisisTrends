"use strict";!function(){var t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&("https:"===window.location.protocol||t)&&navigator.serviceWorker.register("service-worker.js").then(function(t){t.onupdatefound=function(){if(navigator.serviceWorker.controller){var e=t.installing;e.onstatechange=function(){switch(e.state){case"installed":break;case"redundant":throw new Error("The installing service worker became redundant.")}}}}})["catch"](function(t){console.error("Error during service worker registration:",t)})}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(){function t(t,e,n){for(var o,r,a,i=([{x:0,y:0},{x:f[0],y:f[1]}],e.x),c=e.y,u=Math.sqrt(f[0]*f[0]+f[1]*f[1]),d=E(f),h=Math.random()<.5?1:-1,y=-h;(o=d(y+=h))&&(r=~~o[0],a=~~o[1],!(Math.min(r,a)>u));)if(e.x=i+r,e.y=c+a,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>f[0]||e.y+e.y1>f[1])&&(!n||!s(e,t,f[0]))&&(!n||l(e,n))){for(var m,v=e.sprite,p=e.width>>5,g=f[0]>>5,w=e.x-(p<<4),x=127&w,b=32-x,M=e.y1-e.y0,q=(e.y+e.y0)*g+(w>>5),L=0;L<M;L++){m=0;for(var S=0;S<=p;S++)t[q+S]|=m<<b|(S<p?(m=v[L*p+S])>>>x:0);q+=g}return delete e.sprite,!0}return!1}var f=[256,256],y=e,m=n,v=r,p=o,g=o,w=a,b=i,E=d,M=[],q=1/0,L=d3.dispatch("word","end"),S=null,A={};return A.start=function(){function e(){for(var e,l=+new Date;+new Date-l<q&&++a<r&&S;)e=s[a],e.x=f[0]*(Math.random()+.5)>>1,e.y=f[1]*(Math.random()+.5)>>1,c(e,s,a),e.hasText&&t(n,e,o)&&(i.push(e),L.word(e),o?u(o,e):o=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=f[0]>>1,e.y-=f[1]>>1);a>=r&&(A.stop(),L.end(i,o))}var n=h((f[0]>>5)*f[1]),o=null,r=M.length,a=-1,i=[],s=M.map(function(t,e){return t.text=y.call(this,t,e),t.font=m.call(this,t,e),t.style=p.call(this,t,e),t.weight=g.call(this,t,e),t.rotate=w.call(this,t,e),t.size=~~v.call(this,t,e),t.padding=b.call(this,t,e),t}).sort(function(t,e){return e.size-t.size});return S&&clearInterval(S),S=setInterval(e,0),e(),A},A.stop=function(){return S&&(clearInterval(S),S=null),A},A.timeInterval=function(t){return arguments.length?(q=null==t?1/0:t,A):q},A.words=function(t){return arguments.length?(M=t,A):M},A.size=function(t){return arguments.length?(f=[+t[0],+t[1]],A):f},A.font=function(t){return arguments.length?(m=d3.functor(t),A):m},A.fontStyle=function(t){return arguments.length?(p=d3.functor(t),A):p},A.fontWeight=function(t){return arguments.length?(g=d3.functor(t),A):g},A.rotate=function(t){return arguments.length?(w=d3.functor(t),A):w},A.text=function(t){return arguments.length?(y=d3.functor(t),A):y},A.spiral=function(t){return arguments.length?(E=x[t+""]||t,A):E},A.fontSize=function(t){return arguments.length?(v=d3.functor(t),A):v},A.padding=function(t){return arguments.length?(b=d3.functor(t),A):b},d3.rebind(A,L,"on")}function e(t){return t.text}function n(){return"serif"}function o(){return"normal"}function r(t){return Math.sqrt(t.value)}function a(){return 30*(~~(6*Math.random())-3)}function i(){return 1}function c(t,e,n){if(!t.sprite){w.clearRect(0,0,(v<<5)/g,p/g);var o=0,r=0,a=0,i=e.length;for(--n;++n<i;){t=e[n],w.save(),w.font=t.style+" "+t.weight+" "+~~((t.size+1)/g)+"px "+t.font;var c=w.measureText(t.text+"m").width*g,s=t.size<<1;if(t.rotate){var u=Math.sin(t.rotate*m),l=Math.cos(t.rotate*m),d=c*l,f=c*u,h=s*l,y=s*u;c=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,s=~~Math.max(Math.abs(f+h),Math.abs(f-h))}else c=c+31>>5<<5;if(s>a&&(a=s),o+c>=v<<5&&(o=0,r+=a,a=0),r+s>=p)break;w.translate((o+(c>>1))/g,(r+(s>>1))/g),t.rotate&&w.rotate(t.rotate*m),w.fillText(t.text,0,0),t.padding&&(w.lineWidth=2*t.padding,w.strokeText(t.text,0,0)),w.restore(),t.width=c,t.height=s,t.xoff=o,t.yoff=r,t.x1=c>>1,t.y1=s>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,o+=c}for(var x=w.getImageData(0,0,(v<<5)/g,p/g).data,b=[];--n>=0;)if(t=e[n],t.hasText){for(var c=t.width,E=c>>5,s=t.y1-t.y0,M=0;M<s*E;M++)b[M]=0;if(o=t.xoff,null==o)return;r=t.yoff;for(var q=0,L=-1,S=0;S<s;S++){for(var M=0;M<c;M++){var A=E*S+(M>>5),T=x[(r+S)*(v<<5)+(o+M)<<2]?1<<31-M%32:0;b[A]|=T,q|=T}q?L=S:(t.y0++,s--,S--,r++)}t.y1=t.y0+L,t.sprite=b.slice(0,(t.y1-t.y0)*E)}}}function s(t,e,n){n>>=5;for(var o,r=t.sprite,a=t.width>>5,i=t.x-(a<<4),c=127&i,s=32-c,u=t.y1-t.y0,l=(t.y+t.y0)*n+(i>>5),d=0;d<u;d++){o=0;for(var f=0;f<=a;f++)if((o<<s|(f<a?(o=r[d*a+f])>>>c:0))&e[l+f])return!0;l+=n}return!1}function u(t,e){var n=t[0],o=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>o.x&&(o.x=e.x+e.x1),e.y+e.y1>o.y&&(o.y=e.y+e.y1)}function l(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function d(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function f(t){var e=4,n=e*t[0]/t[1],o=0,r=0;return function(t){var a=t<0?-1:1;switch(Math.sqrt(1+4*a*t)-a&3){case 0:o+=n;break;case 1:r+=e;break;case 2:o-=n;break;default:r-=e}return[o,r]}}function h(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}var y,m=Math.PI/180,v=64,p=2048,g=1;"undefined"!=typeof document?(y=document.createElement("canvas"),y.width=1,y.height=1,g=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2),y.width=(v<<5)/g,y.height=p/g):y=new Canvas(v<<5,p);var w=y.getContext("2d"),x={archimedean:d,rectangular:f};w.fillStyle=w.strokeStyle="red",w.textAlign="center","object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t:(d3.layout||(d3.layout={})).cloud=t}(),window.toggle=function(t){return t instanceof NodeList?(t.forEach(toggle),t):"inherit"===t.style.display?hide(t):show(t)},window.hide=function(t){return t instanceof NodeList?t.forEach(hide):t.style.display="none",t},window.show=function(t){return t instanceof NodeList?t.forEach(hide):t.style.display="inherit",t},function(){window.renderFAQ=function(){function t(t){t.parentNode.removeChild(t),t.className=t.className.replace("template","")}function e(t,e,n){var o=a.cloneNode(!0);o.querySelectorAll("h3")[0].innerHTML=t,o.querySelectorAll("p")[0].innerHTML=e,n.appendChild(o)}var n=document.getElementsByClassName("faq-placeholder")[0],o=document.getElementsByClassName("template faq-section")[0];t(o);var r=document.getElementsByClassName("template faq-subsection")[0];t(r);var a=document.getElementsByClassName("template faq-question")[0];t(a);for(var i in window.faq)if(window.faq.hasOwnProperty(i)){var c=window.faq[i],s=o.cloneNode(!0);s.querySelectorAll("h1")[0].innerHTML=i,s.querySelectorAll("img")[0].src=c.image;var u=s.querySelectorAll(".faq-content")[0];for(var l in c.questions)if(c.questions.hasOwnProperty(l)){var d=c.questions[l];if("string"==typeof d)e(l,d,u);else{var f=r.cloneNode(!0);f.querySelectorAll("h2")[0].innerHTML=l;for(var h in d)d.hasOwnProperty(h)&&e(h,d[h],f);u.appendChild(f)}}n.appendChild(s)}},window.bindFAQ=function(){var t=".faq-content",e=document.querySelectorAll(t);hide(e),e.forEach(function(t){t.style.cursor="auto",t.addEventListener("click",function(t){t.stopPropagation()})});var n=document.querySelectorAll(".faq-section");n.forEach(function(e){e.style.cursor="pointer",e.addEventListener("click",function(){this.querySelectorAll(t).forEach(toggle)})})}}(),function(){function t(){e("53082360")}function e(t){t=parseInt(t,10);var o=t-a;a+=Math.ceil(o/2),n(),a!==t&&setTimeout(function(){e(t)},125-5*Math.log(o))}function n(){r.innerHTML=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var o="//4vammoq5j7.execute-api.us-east-1.amazonaws.com/prod/messages",r=document.getElementById("message-count"),a=parseInt(r.innerHTML.replace(/,/g,""),10);window.getMessageCount=function(){var n=new XMLHttpRequest;n.addEventListener("load",function(){200===n.status?e(n.responseText):t()}),n.addEventListener("error",function(){t()}),n.open("GET",o),n.send()}}(),function(){function t(t){r&&t!==!0||(document.getElementById("viz").src=o,r=!0)}function e(){t(!0),n()}function n(){var t=document.getElementById("viz");t.offsetWidth<=500?t.height=1950:t.height=2600}var o="//public.tableausoftware.com/views/crisistrends2dec132016/WorkingDashMobile?:embed=y&:showVizHome=no&:host_url=https%3A%2F%2Fpublic.tableausoftware.com%2F&:tabs=no&:toolbar=top&:animate_transition=yes&:display_static_image=no&:display_spinner=yes&:display_overlay=yes&:display_count=yes&:loadOrderID=0",r=!1;window.addEventListener("scroll",t),window.addEventListener("resize-complete",e),n()}(),function(){function t(){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status&&(u=JSON.parse(t.responseText))}),t.open("GET","data/quotes.json"),t.send()}function e(){s.attr("height",d),n(),a.style.display="none"}function n(t){l=a.offsetWidth,s.attr("width",l),t!==!0&&o()}function o(t){if(void 0===t){if(void 0===h)return;t=h}else h=t;s.selectAll("g").remove(),f=s.append("g").attr("transform","translate("+[l>>1,d>>1]+")");var e=0,n=1e6;for(var o in t)t[o].c>e&&(e=t[o].c),t[o].c<n&&(n=t[o].c);var a=d3.scale.linear().range([50,120]).domain([10,960])(l),i=d3.scale.linear().range([12,a]).domain([n,e]);d3.layout.cloud().size([l,d]).words(t).rotate(function(){return 0}).font("Impact").fontSize(function(t){return i(t.c)}).text(function(t){return t.w}).on("end",r).start()}function r(t,e){var n=e?Math.min(l/Math.abs(e[1].x-l/2),l/Math.abs(e[0].x-l/2),d/Math.abs(e[1].y-d/2),d/Math.abs(e[0].y-d/2))/2:1;f.selectAll("text").data(t).enter().append("text").attr("text-anchor","middle").style("font-size",function(t){return t.size+"px"}).style("font-family","Impact").style("fill",function(){return"rgba(0,0,0,"+(.5*Math.random()+.25)+")"}).attr("text-anchor","middle").attr("transform",function(t){return"translate("+[t.x,t.y]+")rotate("+t.rotate+")"}).text(function(t){return t.w}),f.attr("transform","translate("+[l>>1,d>>1]+")scale("+n+")")}var a=document.getElementById("wordcloud"),i=document.getElementById("wordcloud-quote"),c=500,s=d3.select(a).append("svg"),u=void 0,l=void 0,d=c,f=void 0,h=void 0;window.bootstrapWordCloud=function(){t(),e(),window.addEventListener("resize-complete",n)},document.getElementById("wordcloud-select").addEventListener("change",function(){var t=this.value;a.style.display="block",n(!0),d3.json("data/words/"+t+".json",function(e,n){return e?console.warn(e):(void 0!==u&&(i.innerHTML="<p>"+u[t]+"</p>"),void o(n))})})}(),function(){function t(){document.querySelectorAll(".hamburger")[0].addEventListener("click",function(){toggle(document.querySelectorAll(".hamburger-menu"))}),document.querySelectorAll(".hamburger-menu a").forEach(function(t){t.addEventListener("click",function(){hide(document.querySelectorAll(".hamburger-menu"))})})}function e(){void 0===NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)}function n(){document.querySelectorAll('a[href="#top"]').forEach(function(t){t.addEventListener("click",function(t){window.scrollTo(0,0),t.preventDefault()})})}e(),t(),getMessageCount(),renderFAQ(),bindFAQ(),bootstrapWordCloud(),n();var o=void 0,r=window.outerWidth;window.addEventListener("resize",function(t){clearTimeout(o),o=setTimeout(function(){if(window.outerWidth!==r){r=window.outerWidth;var e=new Event("resize-complete");e.originalEvent=t,window.dispatchEvent(e)}},500)})}();
//# sourceMappingURL=main.min.js.map
