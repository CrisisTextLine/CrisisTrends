{"version":3,"sources":["main.min.js","wst.js","faq.js","message-count.js","word-cloud.js","main.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","e","console","error","renderFAQ","bootstrapTemplate","domNode","parentNode","removeChild","className","replace","addQuestion","question","answer","appendTo","_thisQuestion","_question","cloneNode","querySelectorAll","innerHTML","appendChild","_destination","document","getElementsByClassName","_section","_subsection","sectionTitle","faq","hasOwnProperty","section","_thisSection","src","image","_thisDestination","subsectionTitle","questions","subsection","_thisSubsection","bindFAQ","toggle","style","display","show","hide","NodeList","forEach","select","allElements","cursor","addEventListener","event","stopPropagation","sections","this","fail","incrementValue","intVal","parseInt","difference","currentVal","Math","ceil","updateDisplay","setTimeout","log","messageDiv","toString","MESSAGE_URL","getElementById","getMessageCount","xhr","XMLHttpRequest","status","responseText","open","send","getQuotes","quotes","JSON","parse","initializeD3","svg","d3","wordCloudDiv","append","attr","cloudHeight","setSVGWidth","cloudWidth","offsetWidth","doViz","words","undefined","lastWords","selectAll","remove","vis","max","min","i","c","maxscale","scale","linear","range","domain","sizeScale","layout","cloud","size","rotate","font","fontSize","d","text","w","on","draw","start","bounds","abs","x","y","data","enter","random","quoteDiv","CLOUD_HEIGHT","bootstrapWordCloud","issue","value","json","warn","resizeTimer","clearTimeout","newEvent","Event","originalEvent","dispatchEvent"],"mappings":"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","file":"main.min.js","sourcesContent":["'use strict'; /*!\n               *\n               *  Web Starter Kit\n               *  Copyright 2015 Google Inc. All rights reserved.\n               *\n               *  Licensed under the Apache License, Version 2.0 (the \"License\");\n               *  you may not use this file except in compliance with the License.\n               *  You may obtain a copy of the License at\n               *\n               *    https://www.apache.org/licenses/LICENSE-2.0\n               *\n               *  Unless required by applicable law or agreed to in writing, software\n               *  distributed under the License is distributed on an \"AS IS\" BASIS,\n               *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n               *  See the License for the specific language governing permissions and\n               *  limitations under the License\n               *\n               */\n/* eslint-env browser */\n(function () {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n  /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\n\n\n  if ('serviceWorker' in navigator && (\n  window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js').\n    then(function (registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function () {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function () {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                'service worker became redundant.');\n\n              default:\n              // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function (e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  // Your custom JavaScript goes here\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndzdC5qcyJdLCJuYW1lcyI6WyJpc0xvY2FsaG9zdCIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwibWF0Y2giLCJuYXZpZ2F0b3IiLCJwcm90b2NvbCIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInRoZW4iLCJyZWdpc3RyYXRpb24iLCJvbnVwZGF0ZWZvdW5kIiwiY29udHJvbGxlciIsImluc3RhbGxpbmdXb3JrZXIiLCJpbnN0YWxsaW5nIiwib25zdGF0ZWNoYW5nZSIsInN0YXRlIiwiRXJyb3IiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJjQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQSxDQUFDLFlBQVc7QUFDVjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQUlBLGNBQWNDLFFBQVFDLE9BQU9DLFFBQVAsQ0FBZ0JDLFFBQWhCLEtBQTZCLFdBQTdCO0FBQ3RCO0FBQ0FGLFNBQU9DLFFBQVAsQ0FBZ0JDLFFBQWhCLEtBQTZCLE9BRlA7QUFHdEI7QUFDQUYsU0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsQ0FBeUJDLEtBQXpCO0FBQ0UsMERBREYsQ0FKYyxDQUFsQjs7OztBQVNBLE1BQUksbUJBQW1CQyxTQUFuQjtBQUNDSixTQUFPQyxRQUFQLENBQWdCSSxRQUFoQixLQUE2QixRQUE3QixJQUF5Q1AsV0FEMUMsQ0FBSixFQUM0RDtBQUMxRE0sY0FBVUUsYUFBVixDQUF3QkMsUUFBeEIsQ0FBaUMsbUJBQWpDO0FBQ0NDLFFBREQsQ0FDTSxVQUFTQyxZQUFULEVBQXVCO0FBQzNCO0FBQ0FBLG1CQUFhQyxhQUFiLEdBQTZCLFlBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFJTixVQUFVRSxhQUFWLENBQXdCSyxVQUE1QixFQUF3QztBQUN0QztBQUNBO0FBQ0EsY0FBSUMsbUJBQW1CSCxhQUFhSSxVQUFwQzs7QUFFQUQsMkJBQWlCRSxhQUFqQixHQUFpQyxZQUFXO0FBQzFDLG9CQUFRRixpQkFBaUJHLEtBQXpCO0FBQ0UsbUJBQUssV0FBTDtBQUNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUYsbUJBQUssV0FBTDtBQUNFLHNCQUFNLElBQUlDLEtBQUosQ0FBVTtBQUNBLGtEQURWLENBQU47O0FBR0Y7QUFDRTtBQWJKO0FBZUQsV0FoQkQ7QUFpQkQ7QUFDRixPQTVCRDtBQTZCRCxLQWhDRCxFQWdDR0MsS0FoQ0gsQ0FnQ1MsVUFBU0MsQ0FBVCxFQUFZO0FBQ25CQyxjQUFRQyxLQUFSLENBQWMsMkNBQWQsRUFBMkRGLENBQTNEO0FBQ0QsS0FsQ0Q7QUFtQ0Q7O0FBRUQ7QUFDRCxDQXhERCIsImZpbGUiOiJ3c3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqXG4gKiAgV2ViIFN0YXJ0ZXIgS2l0XG4gKiAgQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZVxuICpcbiAqL1xuLyogZXNsaW50LWVudiBicm93c2VyICovXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDaGVjayB0byBtYWtlIHN1cmUgc2VydmljZSB3b3JrZXJzIGFyZSBzdXBwb3J0ZWQgaW4gdGhlIGN1cnJlbnQgYnJvd3NlcixcbiAgLy8gYW5kIHRoYXQgdGhlIGN1cnJlbnQgcGFnZSBpcyBhY2Nlc3NlZCBmcm9tIGEgc2VjdXJlIG9yaWdpbi4gVXNpbmcgYVxuICAvLyBzZXJ2aWNlIHdvcmtlciBmcm9tIGFuIGluc2VjdXJlIG9yaWdpbiB3aWxsIHRyaWdnZXIgSlMgY29uc29sZSBlcnJvcnMuIFNlZVxuICAvLyBodHRwOi8vd3d3LmNocm9taXVtLm9yZy9Ib21lL2Nocm9taXVtLXNlY3VyaXR5L3ByZWZlci1zZWN1cmUtb3JpZ2lucy1mb3ItcG93ZXJmdWwtbmV3LWZlYXR1cmVzXG4gIHZhciBpc0xvY2FsaG9zdCA9IEJvb2xlYW4od2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnbG9jYWxob3N0JyB8fFxuICAgICAgLy8gWzo6MV0gaXMgdGhlIElQdjYgbG9jYWxob3N0IGFkZHJlc3MuXG4gICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdbOjoxXScgfHxcbiAgICAgIC8vIDEyNy4wLjAuMS84IGlzIGNvbnNpZGVyZWQgbG9jYWxob3N0IGZvciBJUHY0LlxuICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLm1hdGNoKFxuICAgICAgICAvXjEyNyg/OlxcLig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykpezN9JC9cbiAgICAgIClcbiAgICApO1xuXG4gIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yICYmXG4gICAgICAod2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JyB8fCBpc0xvY2FsaG9zdCkpIHtcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKVxuICAgIC50aGVuKGZ1bmN0aW9uKHJlZ2lzdHJhdGlvbikge1xuICAgICAgLy8gdXBkYXRlZm91bmQgaXMgZmlyZWQgaWYgc2VydmljZS13b3JrZXIuanMgY2hhbmdlcy5cbiAgICAgIHJlZ2lzdHJhdGlvbi5vbnVwZGF0ZWZvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHVwZGF0ZWZvdW5kIGlzIGFsc28gZmlyZWQgdGhlIHZlcnkgZmlyc3QgdGltZSB0aGUgU1cgaXMgaW5zdGFsbGVkLFxuICAgICAgICAvLyBhbmQgdGhlcmUncyBubyBuZWVkIHRvIHByb21wdCBmb3IgYSByZWxvYWQgYXQgdGhhdCBwb2ludC5cbiAgICAgICAgLy8gU28gY2hlY2sgaGVyZSB0byBzZWUgaWYgdGhlIHBhZ2UgaXMgYWxyZWFkeSBjb250cm9sbGVkLFxuICAgICAgICAvLyBpLmUuIHdoZXRoZXIgdGhlcmUncyBhbiBleGlzdGluZyBzZXJ2aWNlIHdvcmtlci5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAvLyBUaGUgdXBkYXRlZm91bmQgZXZlbnQgaW1wbGllcyB0aGF0IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nIGlzIHNldDpcbiAgICAgICAgICAvLyBodHRwczovL3NsaWdodGx5b2ZmLmdpdGh1Yi5pby9TZXJ2aWNlV29ya2VyL3NwZWMvc2VydmljZV93b3JrZXIvaW5kZXguaHRtbCNzZXJ2aWNlLXdvcmtlci1jb250YWluZXItdXBkYXRlZm91bmQtZXZlbnRcbiAgICAgICAgICB2YXIgaW5zdGFsbGluZ1dvcmtlciA9IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nO1xuXG4gICAgICAgICAgaW5zdGFsbGluZ1dvcmtlci5vbnN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGluc3RhbGxpbmdXb3JrZXIuc3RhdGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnaW5zdGFsbGVkJzpcbiAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB0aGUgb2xkIGNvbnRlbnQgd2lsbCBoYXZlIGJlZW4gcHVyZ2VkIGFuZCB0aGVcbiAgICAgICAgICAgICAgICAvLyBmcmVzaCBjb250ZW50IHdpbGwgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICAvLyBJdCdzIHRoZSBwZXJmZWN0IHRpbWUgdG8gZGlzcGxheSBhIFwiTmV3IGNvbnRlbnQgaXNcbiAgICAgICAgICAgICAgICAvLyBhdmFpbGFibGU7IHBsZWFzZSByZWZyZXNoLlwiIG1lc3NhZ2UgaW4gdGhlIHBhZ2UncyBpbnRlcmZhY2UuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAncmVkdW5kYW50JzpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbnN0YWxsaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VydmljZSB3b3JrZXIgYmVjYW1lIHJlZHVuZGFudC4nKTtcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbjonLCBlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFlvdXIgY3VzdG9tIEphdmFTY3JpcHQgZ29lcyBoZXJlXG59KSgpO1xuIl19\n\n/* eslint-env browser */\n'use strict';\n\n(function () {\n  /**\n               * Render the FAQ questions from a file located at /faq.js.\n               */\n  window.renderFAQ = function () {\n    /**\n                                   * Destination of all FAQ items\n                                   * @type {Element}\n                                   */\n    var _destination = document.getElementsByClassName('faq-placeholder')[0];\n\n    /**\n                                                                               * Template for each wrapper section, including an image.\n                                                                               * @type {Element}\n                                                                               */\n    var _section = document.getElementsByClassName('template faq-section')[0];\n    bootstrapTemplate(_section);\n\n    /**\n                                  * Template for each wrapper subsection, including an image.\n                                  * @type {Element}\n                                  */\n    var _subsection =\n    document.getElementsByClassName('template faq-subsection')[0];\n    bootstrapTemplate(_subsection);\n\n    /**\n                                     * Template for each question.\n                                     * @type {[type]}\n                                     */\n    var _question = document.\n    getElementsByClassName('template faq-question')[0];\n    bootstrapTemplate(_question);\n\n    for (var sectionTitle in window.faq) {\n      // Since we're working with a global obj, let's make sure we're not\n      // screwed by accidental prototyping.\n      if (!window.faq.hasOwnProperty(sectionTitle)) {\n        continue;\n      }\n\n      /** @type {object} Shortcut  */\n      var section = window.faq[sectionTitle];\n\n      /** @type {Element} The new section where we're putting the FAQ elements */\n      var _thisSection = _section.cloneNode(true);\n\n      // Fill in template data\n      _thisSection.querySelectorAll('h1')[0].innerHTML = sectionTitle;\n      _thisSection.querySelectorAll('img')[0].src = section.image;\n\n      var _thisDestination = _thisSection.querySelectorAll('.faq-content')[0];\n\n      for (var subsectionTitle in section.questions) {\n        if (!section.questions.hasOwnProperty(subsectionTitle)) {\n          continue;\n        }\n\n        /** @type {object,string} The set of either subsections or questions */\n        var subsection = section.questions[subsectionTitle];\n\n        if (typeof subsection === 'string') {\n          // we have a question\n          addQuestion(subsectionTitle, subsection, _thisDestination);\n        } else {\n          // we have a subsection\n          var _thisSubsection = _subsection.cloneNode(true);\n\n          _thisSubsection.querySelectorAll('h2')[0].innerHTML = subsectionTitle;\n\n          for (var question in subsection) {\n            if (!subsection.hasOwnProperty(question)) {\n              continue;\n            }\n\n            addQuestion(question, subsection[question], _thisSubsection);\n          }\n\n          _thisDestination.appendChild(_thisSubsection);\n        }\n      }\n      // Finally, append to the DOM.\n      _destination.appendChild(_thisSection);\n    }\n\n    /**\n       * Bootstrap a template by removing it from the dom and removing the template class.\n       *\n       * @param {Element} domNode The domNode to bootstrap into a template\n       */\n    function bootstrapTemplate(domNode) {\n      // Remove from DOM\n      domNode.parentNode.removeChild(domNode);\n\n      // Remove the template class\n      domNode.className = domNode.className.replace('template', '');\n    }\n\n    /**\n       * Add a question using the global question template to an Element, appendTo.\n       * @param {string} question question\n       * @param {string} answer answer\n       * @param {Element} appendTo Element to append the question to\n       */\n    function addQuestion(question, answer, appendTo) {\n      var _thisQuestion = _question.cloneNode(true);\n\n      _thisQuestion.querySelectorAll('h3')[0].innerHTML = question;\n      _thisQuestion.querySelectorAll('p')[0].innerHTML = answer;\n\n      appendTo.appendChild(_thisQuestion);\n    }\n  };\n\n  /**\n      * Bind click events and hide elements from the FAQ\n      */\n  window.bindFAQ = function () {\n    var select = '.faq-content';\n\n    var allElements = document.querySelectorAll(select);\n    hide(allElements);\n\n    allElements.forEach(function (e) {\n      e.style.cursor = 'auto';\n\n      // Prevent the click listener on the parent from affecting this (i.e. re-hiding this element)\n      e.addEventListener('click', function (event) {\n        event.stopPropagation();\n      });\n    });\n\n    var sections = document.querySelectorAll('.faq-section');\n    sections.forEach(function (e) {\n      e.style.cursor = 'pointer';\n\n      e.addEventListener('click', function () {\n        this.querySelectorAll(select).forEach(toggle);\n      });\n    });\n\n    /**\n         * Toggle the display of an element.\n         *\n         * @param  {element} e The element to toggle.\n         *\n         * @return {element}   The element that was toggled.\n         */\n    function toggle(e) {\n      if (e.style.display === 'none') {\n        return show(e);\n      }\n\n      return hide(e);\n    }\n\n    /**\n       * Hide an element or elements.\n       *\n       * @param  {element|NodeList} e The element(s) to hide\n       *\n       * @return {element} The element hidden\n       */\n    function hide(e) {\n      if (e instanceof NodeList) {\n        e.forEach(hide);\n      } else {\n        e.style.display = 'none';\n      }\n\n      return e;\n    }\n\n    /**\n       * Unhide an element.\n       *\n       * @param  {element} e The element to unhide.\n       *\n       * @return {element} The element unhidden\n       */\n    function show(e) {\n      e.style.display = 'inherit';\n\n      return e;\n    }\n  };\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZhcS5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJyZW5kZXJGQVEiLCJfZGVzdGluYXRpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJfc2VjdGlvbiIsImJvb3RzdHJhcFRlbXBsYXRlIiwiX3N1YnNlY3Rpb24iLCJfcXVlc3Rpb24iLCJzZWN0aW9uVGl0bGUiLCJmYXEiLCJoYXNPd25Qcm9wZXJ0eSIsInNlY3Rpb24iLCJfdGhpc1NlY3Rpb24iLCJjbG9uZU5vZGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5uZXJIVE1MIiwic3JjIiwiaW1hZ2UiLCJfdGhpc0Rlc3RpbmF0aW9uIiwic3Vic2VjdGlvblRpdGxlIiwicXVlc3Rpb25zIiwic3Vic2VjdGlvbiIsImFkZFF1ZXN0aW9uIiwiX3RoaXNTdWJzZWN0aW9uIiwicXVlc3Rpb24iLCJhcHBlbmRDaGlsZCIsImRvbU5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjbGFzc05hbWUiLCJyZXBsYWNlIiwiYW5zd2VyIiwiYXBwZW5kVG8iLCJfdGhpc1F1ZXN0aW9uIiwiYmluZEZBUSIsInNlbGVjdCIsImFsbEVsZW1lbnRzIiwiaGlkZSIsImZvckVhY2giLCJlIiwic3R5bGUiLCJjdXJzb3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJzZWN0aW9ucyIsInRvZ2dsZSIsImRpc3BsYXkiLCJzaG93IiwiTm9kZUxpc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUEsQ0FBQyxZQUFXO0FBQ1Y7OztBQUdBQSxTQUFPQyxTQUFQLEdBQW1CLFlBQU07QUFDdkI7Ozs7QUFJQSxRQUFNQyxlQUFlQyxTQUFTQyxzQkFBVCxDQUFnQyxpQkFBaEMsRUFBbUQsQ0FBbkQsQ0FBckI7O0FBRUE7Ozs7QUFJQSxRQUFNQyxXQUFXRixTQUFTQyxzQkFBVCxDQUFnQyxzQkFBaEMsRUFBd0QsQ0FBeEQsQ0FBakI7QUFDQUUsc0JBQWtCRCxRQUFs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VCxDQUFkLEVBQWlCO0FBQ2ZBLFFBQUVDLEtBQUYsQ0FBUU8sT0FBUixHQUFrQixTQUFsQjs7QUFFQSxhQUFPUixDQUFQO0FBQ0Q7QUFDRixHQXBFRDtBQXFFRCxDQTFMRCIsImZpbGUiOiJmYXEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogUmVuZGVyIHRoZSBGQVEgcXVlc3Rpb25zIGZyb20gYSBmaWxlIGxvY2F0ZWQgYXQgL2ZhcS5qcy5cbiAgICovXG4gIHdpbmRvdy5yZW5kZXJGQVEgPSAoKSA9PiB7XG4gICAgLyoqXG4gICAgICogRGVzdGluYXRpb24gb2YgYWxsIEZBUSBpdGVtc1xuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIGNvbnN0IF9kZXN0aW5hdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ZhcS1wbGFjZWhvbGRlcicpWzBdO1xuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZm9yIGVhY2ggd3JhcHBlciBzZWN0aW9uLCBpbmNsdWRpbmcgYW4gaW1hZ2UuXG4gICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICovXG4gICAgY29uc3QgX3NlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZW1wbGF0ZSBmYXEtc2VjdGlvbicpWzBdO1xuICAgIGJvb3RzdHJhcFRlbXBsYXRlKF9zZWN0aW9uKTtcblxuICAgIC8qKlxuICAgICAqIFRlbXBsYXRlIGZvciBlYWNoIHdyYXBwZXIgc3Vic2VjdGlvbiwgaW5jbHVkaW5nIGFuIGltYWdlLlxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIGNvbnN0IF9zdWJzZWN0aW9uID1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RlbXBsYXRlIGZhcS1zdWJzZWN0aW9uJylbMF07XG4gICAgYm9vdHN0cmFwVGVtcGxhdGUoX3N1YnNlY3Rpb24pO1xuXG4gICAgLyoqXG4gICAgICogVGVtcGxhdGUgZm9yIGVhY2ggcXVlc3Rpb24uXG4gICAgICogQHR5cGUge1t0eXBlXX1cbiAgICAgKi9cbiAgICBjb25zdCBfcXVlc3Rpb24gPSBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RlbXBsYXRlIGZhcS1xdWVzdGlvbicpWzBdO1xuICAgIGJvb3RzdHJhcFRlbXBsYXRlKF9xdWVzdGlvbik7XG5cbiAgICBmb3IgKGxldCBzZWN0aW9uVGl0bGUgaW4gd2luZG93LmZhcSkge1xuICAgICAgLy8gU2luY2Ugd2UncmUgd29ya2luZyB3aXRoIGEgZ2xvYmFsIG9iaiwgbGV0J3MgbWFrZSBzdXJlIHdlJ3JlIG5vdFxuICAgICAgLy8gc2NyZXdlZCBieSBhY2NpZGVudGFsIHByb3RvdHlwaW5nLlxuICAgICAgaWYgKCF3aW5kb3cuZmFxLmhhc093blByb3BlcnR5KHNlY3Rpb25UaXRsZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8qKiBAdHlwZSB7b2JqZWN0fSBTaG9ydGN1dCAgKi9cbiAgICAgIGNvbnN0IHNlY3Rpb24gPSB3aW5kb3cuZmFxW3NlY3Rpb25UaXRsZV07XG5cbiAgICAgIC8qKiBAdHlwZSB7RWxlbWVudH0gVGhlIG5ldyBzZWN0aW9uIHdoZXJlIHdlJ3JlIHB1dHRpbmcgdGhlIEZBUSBlbGVtZW50cyAqL1xuICAgICAgY29uc3QgX3RoaXNTZWN0aW9uID0gX3NlY3Rpb24uY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAvLyBGaWxsIGluIHRlbXBsYXRlIGRhdGFcbiAgICAgIF90aGlzU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdoMScpWzBdLmlubmVySFRNTCA9IHNlY3Rpb25UaXRsZTtcbiAgICAgIF90aGlzU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKVswXS5zcmMgPSBzZWN0aW9uLmltYWdlO1xuXG4gICAgICBjb25zdCBfdGhpc0Rlc3RpbmF0aW9uID0gX3RoaXNTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mYXEtY29udGVudCcpWzBdO1xuXG4gICAgICBmb3IgKGxldCBzdWJzZWN0aW9uVGl0bGUgaW4gc2VjdGlvbi5xdWVzdGlvbnMpIHtcbiAgICAgICAgaWYgKCFzZWN0aW9uLnF1ZXN0aW9ucy5oYXNPd25Qcm9wZXJ0eShzdWJzZWN0aW9uVGl0bGUpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKiogQHR5cGUge29iamVjdCxzdHJpbmd9IFRoZSBzZXQgb2YgZWl0aGVyIHN1YnNlY3Rpb25zIG9yIHF1ZXN0aW9ucyAqL1xuICAgICAgICBjb25zdCBzdWJzZWN0aW9uID0gc2VjdGlvbi5xdWVzdGlvbnNbc3Vic2VjdGlvblRpdGxlXTtcblxuICAgICAgICBpZiAodHlwZW9mIHN1YnNlY3Rpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgLy8gd2UgaGF2ZSBhIHF1ZXN0aW9uXG4gICAgICAgICAgYWRkUXVlc3Rpb24oc3Vic2VjdGlvblRpdGxlLCBzdWJzZWN0aW9uLCBfdGhpc0Rlc3RpbmF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyB3ZSBoYXZlIGEgc3Vic2VjdGlvblxuICAgICAgICAgIGNvbnN0IF90aGlzU3Vic2VjdGlvbiA9IF9zdWJzZWN0aW9uLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAgIF90aGlzU3Vic2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdoMicpWzBdLmlubmVySFRNTCA9IHN1YnNlY3Rpb25UaXRsZTtcblxuICAgICAgICAgIGZvciAobGV0IHF1ZXN0aW9uIGluIHN1YnNlY3Rpb24pIHtcbiAgICAgICAgICAgIGlmICghc3Vic2VjdGlvbi5oYXNPd25Qcm9wZXJ0eShxdWVzdGlvbikpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZFF1ZXN0aW9uKHF1ZXN0aW9uLCBzdWJzZWN0aW9uW3F1ZXN0aW9uXSwgX3RoaXNTdWJzZWN0aW9uKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBfdGhpc0Rlc3RpbmF0aW9uLmFwcGVuZENoaWxkKF90aGlzU3Vic2VjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZpbmFsbHksIGFwcGVuZCB0byB0aGUgRE9NLlxuICAgICAgX2Rlc3RpbmF0aW9uLmFwcGVuZENoaWxkKF90aGlzU2VjdGlvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQm9vdHN0cmFwIGEgdGVtcGxhdGUgYnkgcmVtb3ZpbmcgaXQgZnJvbSB0aGUgZG9tIGFuZCByZW1vdmluZyB0aGUgdGVtcGxhdGUgY2xhc3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGRvbU5vZGUgVGhlIGRvbU5vZGUgdG8gYm9vdHN0cmFwIGludG8gYSB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJvb3RzdHJhcFRlbXBsYXRlKGRvbU5vZGUpIHtcbiAgICAgIC8vIFJlbW92ZSBmcm9tIERPTVxuICAgICAgZG9tTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRvbU5vZGUpO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIHRlbXBsYXRlIGNsYXNzXG4gICAgICBkb21Ob2RlLmNsYXNzTmFtZSA9IGRvbU5vZGUuY2xhc3NOYW1lLnJlcGxhY2UoJ3RlbXBsYXRlJywgJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIHF1ZXN0aW9uIHVzaW5nIHRoZSBnbG9iYWwgcXVlc3Rpb24gdGVtcGxhdGUgdG8gYW4gRWxlbWVudCwgYXBwZW5kVG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHF1ZXN0aW9uIHF1ZXN0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGFuc3dlciBhbnN3ZXJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGFwcGVuZFRvIEVsZW1lbnQgdG8gYXBwZW5kIHRoZSBxdWVzdGlvbiB0b1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFF1ZXN0aW9uKHF1ZXN0aW9uLCBhbnN3ZXIsIGFwcGVuZFRvKSB7XG4gICAgICBjb25zdCBfdGhpc1F1ZXN0aW9uID0gX3F1ZXN0aW9uLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgX3RoaXNRdWVzdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdoMycpWzBdLmlubmVySFRNTCA9IHF1ZXN0aW9uO1xuICAgICAgX3RoaXNRdWVzdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdwJylbMF0uaW5uZXJIVE1MID0gYW5zd2VyO1xuXG4gICAgICBhcHBlbmRUby5hcHBlbmRDaGlsZChfdGhpc1F1ZXN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmQgY2xpY2sgZXZlbnRzIGFuZCBoaWRlIGVsZW1lbnRzIGZyb20gdGhlIEZBUVxuICAgKi9cbiAgd2luZG93LmJpbmRGQVEgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2VsZWN0ID0gJy5mYXEtY29udGVudCc7XG5cbiAgICBjb25zdCBhbGxFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0KTtcbiAgICBoaWRlKGFsbEVsZW1lbnRzKTtcblxuICAgIGFsbEVsZW1lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICBlLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcblxuICAgICAgLy8gUHJldmVudCB0aGUgY2xpY2sgbGlzdGVuZXIgb24gdGhlIHBhcmVudCBmcm9tIGFmZmVjdGluZyB0aGlzIChpLmUuIHJlLWhpZGluZyB0aGlzIGVsZW1lbnQpXG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZhcS1zZWN0aW9uJyk7XG4gICAgc2VjdGlvbnMuZm9yRWFjaChlID0+IHtcbiAgICAgIGUuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuXG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbChzZWxlY3QpLmZvckVhY2godG9nZ2xlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIHRoZSBkaXNwbGF5IG9mIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtlbGVtZW50fSBlIFRoZSBlbGVtZW50IHRvIHRvZ2dsZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2VsZW1lbnR9ICAgVGhlIGVsZW1lbnQgdGhhdCB3YXMgdG9nZ2xlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGUoZSkge1xuICAgICAgaWYgKGUuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiBzaG93KGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGlkZShlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIGFuIGVsZW1lbnQgb3IgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtlbGVtZW50fE5vZGVMaXN0fSBlIFRoZSBlbGVtZW50KHMpIHRvIGhpZGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2VsZW1lbnR9IFRoZSBlbGVtZW50IGhpZGRlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhpZGUoZSkge1xuICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOb2RlTGlzdCkge1xuICAgICAgICBlLmZvckVhY2goaGlkZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVuaGlkZSBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtICB7ZWxlbWVudH0gZSBUaGUgZWxlbWVudCB0byB1bmhpZGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtlbGVtZW50fSBUaGUgZWxlbWVudCB1bmhpZGRlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3coZSkge1xuICAgICAgZS5zdHlsZS5kaXNwbGF5ID0gJ2luaGVyaXQnO1xuXG4gICAgICByZXR1cm4gZTtcbiAgICB9XG4gIH07XG59KSgpO1xuIl19\n\n/* eslint-env browser */\n'use strict';\n\n(function () {\n  var MESSAGE_URL = 'http://www.crisistextline.org/trends/data/messages.txt';\n  var messageDiv = document.getElementById('message-count');\n\n  var currentVal = parseInt(messageDiv.innerHTML.replace(/,/g, ''), 10);\n\n  window.getMessageCount = function () {\n    var xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', function () {\n      if (xhr.status === 200) {\n        incrementValue(xhr.responseText);\n      } else {\n        fail();\n      }\n    });\n\n    xhr.addEventListener('error', function () {\n      fail();\n    });\n\n    xhr.open('GET', MESSAGE_URL);\n    xhr.send();\n  };\n\n  /**\n      * Failure handler for a failed XHR request. Let's just populate with a sane,\n      * true-enough value.\n      */\n  function fail() {\n    incrementValue('27212575');\n  }\n\n  /**\n     * Increment the current value by the difference from current to desired / 2.\n     *\n     * @param  {integer} intVal Value we're shooting for\n     */\n  function incrementValue(intVal) {\n    intVal = parseInt(intVal, 10);\n\n    var difference = intVal - currentVal;\n\n    currentVal += Math.ceil(difference / 2);\n\n    updateDisplay();\n\n    if (currentVal !== intVal) {\n      setTimeout(function () {\n        incrementValue(intVal);\n      }, 125 - Math.log(difference) * 5);\n    }\n  }\n\n  /**\n     * Update the display to currentValue, formatted in 1,231,131,232 format\n     */\n  function updateDisplay() {\n    // format the string with commas every 3 places\n    messageDiv.innerHTML = currentVal.\n    toString().\n    replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1lc3NhZ2UtY291bnQuanMiXSwibmFtZXMiOlsiTUVTU0FHRV9VUkwiLCJtZXNzYWdlRGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN1cnJlbnRWYWwiLCJwYXJzZUludCIsImlubmVySFRNTCIsInJlcGxhY2UiLCJ3aW5kb3ciLCJnZXRNZXNzYWdlQ291bnQiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGF0dXMiLCJpbmNyZW1lbnRWYWx1ZSIsInJlc3BvbnNlVGV4dCIsImZhaWwiLCJvcGVuIiwic2VuZCIsImludFZhbCIsImRpZmZlcmVuY2UiLCJNYXRoIiwiY2VpbCIsInVwZGF0ZURpc3BsYXkiLCJzZXRUaW1lb3V0IiwibG9nIiwidG9TdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUEsQ0FBQyxZQUFXO0FBQ1YsTUFBTUEsY0FBYyx3REFBcEI7QUFDQSxNQUFNQyxhQUFhQyxTQUFTQyxjQUFULENBQXdCLGVBQXhCLENBQW5COztBQUVBLE1BQUlDLGFBQWFDLFNBQVNKLFdBQVdLLFNBQVgsQ0FBcUJDLE9BQXJCLENBQTZCLElBQTdCLEVBQW1DLEVBQW5DLENBQVQsRUFBaUQsRUFBakQsQ0FBakI7O0FBRUFDLFNBQU9DLGVBQVAsR0FBeUIsWUFBTTtBQUM3QixRQUFJQyxNQUFNLElBQUlDLGNBQUosRUFBVjs7QUFFQUQsUUFBSUUsZ0JBQUosQ0FBcUIsTUFBckIsRUFBNkIsWUFBTTtBQUNqQyxVQUFJRixJQUFJRyxNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEJDLHVCQUFlSixJQUFJSyxZQUFuQjtBQUNELE9BRkQsTUFFTztBQUNMQztBQUNEO0FBQ0YsS0FORDs7QUFRQU4sUUFBSUUsZ0JBQUosQ0FBcUIsT0FBckIsRUFBOEIsWUFBTTtBQUNsQ0k7QUFDRCxLQUZEOztBQUlBTixRQUFJTyxJQUFKLENBQVMsS0FBVCxFQUFnQmpCLFdBQWhCO0FBQ0FVLFFBQUlRLElBQUo7QUFDRCxHQWpCRDs7QUFtQkE7Ozs7QUFJQSxXQUFTRixJQUFULEdBQWdCO0FBQ2RGLG1CQUFlLFVBQWY7QUFDRDs7QUFFRDs7Ozs7QUFLQSxXQUFTQSxjQUFULENBQXdCSyxNQUF4QixFQUFnQztBQUM5QkEsYUFBU2QsU0FBU2MsTUFBVCxFQUFpQixFQUFqQixDQUFUOztBQUVBLFFBQU1DLGFBQWFELFNBQVNmLFVBQTVCOztBQUVBQSxrQkFBY2lCLEtBQUtDLElBQUwsQ0FBVUYsYUFBYSxDQUF2QixDQUFkOztBQUVBRzs7QUFFQSxRQUFJbkIsZUFBZWUsTUFBbkIsRUFBMkI7QUFDekJLLGlCQUFXLFlBQU07QUFDZlYsdUJBQWVLLE1BQWY7QUFDRCxPQUZELEVBRUcsTUFBTUUsS0FBS0ksR0FBTCxDQUFTTCxVQUFULElBQXVCLENBRmhDO0FBR0Q7QUFDRjs7QUFFRDs7O0FBR0EsV0FBU0csYUFBVCxHQUF5QjtBQUN2QjtBQUNBdEIsZUFBV0ssU0FBWCxHQUF1QkY7QUFDcEJzQixZQURvQjtBQUVwQm5CLFdBRm9CLENBRVosdUJBRlksRUFFYSxHQUZiLENBQXZCO0FBR0Q7QUFDRixDQS9ERCIsImZpbGUiOiJtZXNzYWdlLWNvdW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBicm93c2VyICovXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbigpIHtcbiAgY29uc3QgTUVTU0FHRV9VUkwgPSAnaHR0cDovL3d3dy5jcmlzaXN0ZXh0bGluZS5vcmcvdHJlbmRzL2RhdGEvbWVzc2FnZXMudHh0JztcbiAgY29uc3QgbWVzc2FnZURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlLWNvdW50Jyk7XG5cbiAgbGV0IGN1cnJlbnRWYWwgPSBwYXJzZUludChtZXNzYWdlRGl2LmlubmVySFRNTC5yZXBsYWNlKC8sL2csICcnKSwgMTApO1xuXG4gIHdpbmRvdy5nZXRNZXNzYWdlQ291bnQgPSAoKSA9PiB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIGluY3JlbWVudFZhbHVlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmFpbCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgZmFpbCgpO1xuICAgIH0pO1xuXG4gICAgeGhyLm9wZW4oJ0dFVCcsIE1FU1NBR0VfVVJMKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBGYWlsdXJlIGhhbmRsZXIgZm9yIGEgZmFpbGVkIFhIUiByZXF1ZXN0LiBMZXQncyBqdXN0IHBvcHVsYXRlIHdpdGggYSBzYW5lLFxuICAgKiB0cnVlLWVub3VnaCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGZhaWwoKSB7XG4gICAgaW5jcmVtZW50VmFsdWUoJzI3MjEyNTc1Jyk7XG4gIH1cblxuICAvKipcbiAgICogSW5jcmVtZW50IHRoZSBjdXJyZW50IHZhbHVlIGJ5IHRoZSBkaWZmZXJlbmNlIGZyb20gY3VycmVudCB0byBkZXNpcmVkIC8gMi5cbiAgICpcbiAgICogQHBhcmFtICB7aW50ZWdlcn0gaW50VmFsIFZhbHVlIHdlJ3JlIHNob290aW5nIGZvclxuICAgKi9cbiAgZnVuY3Rpb24gaW5jcmVtZW50VmFsdWUoaW50VmFsKSB7XG4gICAgaW50VmFsID0gcGFyc2VJbnQoaW50VmFsLCAxMCk7XG5cbiAgICBjb25zdCBkaWZmZXJlbmNlID0gaW50VmFsIC0gY3VycmVudFZhbDtcblxuICAgIGN1cnJlbnRWYWwgKz0gTWF0aC5jZWlsKGRpZmZlcmVuY2UgLyAyKTtcblxuICAgIHVwZGF0ZURpc3BsYXkoKTtcblxuICAgIGlmIChjdXJyZW50VmFsICE9PSBpbnRWYWwpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpbmNyZW1lbnRWYWx1ZShpbnRWYWwpO1xuICAgICAgfSwgMTI1IC0gTWF0aC5sb2coZGlmZmVyZW5jZSkgKiA1KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBkaXNwbGF5IHRvIGN1cnJlbnRWYWx1ZSwgZm9ybWF0dGVkIGluIDEsMjMxLDEzMSwyMzIgZm9ybWF0XG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVEaXNwbGF5KCkge1xuICAgIC8vIGZvcm1hdCB0aGUgc3RyaW5nIHdpdGggY29tbWFzIGV2ZXJ5IDMgcGxhY2VzXG4gICAgbWVzc2FnZURpdi5pbm5lckhUTUwgPSBjdXJyZW50VmFsXG4gICAgICAudG9TdHJpbmcoKVxuICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csICcsJyk7XG4gIH1cbn0pKCk7XG4iXX0=\n\n'use strict'; /* global d3 */\n/* eslint-env browser */\n\n(function () {\n  var wordCloudDiv = document.getElementById('wordcloud');\n  var quoteDiv = document.getElementById('wordcloud-quote');\n  var CLOUD_HEIGHT = 500;\n\n  var quotes;\n  var svg;\n  var cloudWidth;\n  var cloudHeight = CLOUD_HEIGHT;\n  var vis;\n  var lastWords;\n\n  window.bootstrapWordCloud = function () {\n    getQuotes();\n    initializeD3();\n\n    window.addEventListener('resize-complete', setSVGWidth);\n  };\n\n  function getQuotes() {\n    var xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', function () {\n      if (xhr.status === 200) {\n        quotes = JSON.parse(xhr.responseText);\n      }\n    });\n\n    xhr.open('GET', 'data/quotes.json');\n    xhr.send();\n  }\n\n  function initializeD3() {\n    svg = d3.select(wordCloudDiv).append('svg');\n    svg.attr('height', cloudHeight);\n    setSVGWidth();\n    wordCloudDiv.style.display = 'none';\n  }\n\n  function setSVGWidth() {\n    cloudWidth = wordCloudDiv.offsetWidth;\n    svg.attr('width', cloudWidth);\n    doViz();\n  }\n\n  function doViz(words) {\n    if (words === undefined) {\n      if (lastWords === undefined) {\n        return;\n      }\n\n      words = lastWords;\n    } else {\n      lastWords = words;\n    }\n\n    svg.selectAll('g').remove();\n\n    vis = svg.\n    append('g').\n    attr('transform', 'translate(' +\n    [cloudWidth >> 1, cloudHeight >> 1] +\n    ')');\n\n    var max = 0;\n    var min = 1000000;\n\n    for (var i in words) {\n      if (words[i].c > max) {\n        max = words[i].c;\n      }\n\n      if (words[i].c < min) {\n        min = words[i].c;\n      }\n    }\n\n    var maxscale = d3.scale.linear().range([50, 120]).domain([10, 960])(cloudWidth);\n    var sizeScale = d3.scale.linear().range([12, maxscale]).domain([min, max]);\n\n    d3.layout.cloud().\n    size([cloudWidth, cloudHeight]).\n    words(words).\n    rotate(function () {\n      return 0;\n    }).\n    font('Impact').\n    fontSize(function (d) {\n      return sizeScale(d.c);\n    }).\n    text(function (d) {\n      return d.w;\n    }).\n    on('end', draw).\n    start();\n  }\n\n  function draw(words, bounds) {\n    var scale = bounds ? Math.min(\n    cloudWidth / Math.abs(bounds[1].x - cloudWidth / 2),\n    cloudWidth / Math.abs(bounds[0].x - cloudWidth / 2),\n    cloudHeight / Math.abs(bounds[1].y - cloudHeight / 2),\n    cloudHeight / Math.abs(bounds[0].y - cloudHeight / 2)) / 2 : 1;\n\n    vis.\n    selectAll('text').\n    data(words).\n    enter().append('text').\n    attr('text-anchor', 'middle').\n    style('font-size', function (d) {\n      return d.size + 'px';\n    }).\n    style('font-family', 'Impact').\n    style('fill', function () {\n      return 'rgba(0,0,0,' + (Math.random() * 0.50 + 0.25) + ')';\n    }).\n    attr('text-anchor', 'middle').\n    attr('transform', function (d) {\n      return 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')';\n    }).\n    text(function (d) {\n      return d.w;\n    });\n\n\n    vis.attr('transform', 'translate(' + [cloudWidth >> 1, cloudHeight >> 1] + ')scale(' + scale + ')');\n  }\n\n  document.getElementById('wordcloud-select').addEventListener('change', function () {\n    var issue = this.value;\n\n    wordCloudDiv.style.display = 'block';\n\n    d3.json('data/words/' + issue + '.json', function (error, json) {\n      if (error) {\n        return console.warn(error);\n      }\n\n      if (quotes !== undefined) {\n        quoteDiv.innerHTML = '<p>' + quotes[issue] + '</p>';\n      }\n\n      doViz(json);\n    });\n  });\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndvcmQtY2xvdWQuanMiXSwibmFtZXMiOlsid29yZENsb3VkRGl2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInF1b3RlRGl2IiwiQ0xPVURfSEVJR0hUIiwicXVvdGVzIiwic3ZnIiwiY2xvdWRXaWR0aCIsImNsb3VkSGVpZ2h0IiwidmlzIiwibGFzdFdvcmRzIiwid2luZG93IiwiYm9vdHN0cmFwV29yZENsb3VkIiwiZ2V0UXVvdGVzIiwiaW5pdGlhbGl6ZUQzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFNWR1dpZHRoIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJzdGF0dXMiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJvcGVuIiwic2VuZCIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsInN0eWxlIiwiZGlzcGxheSIsIm9mZnNldFdpZHRoIiwiZG9WaXoiLCJ3b3JkcyIsInVuZGVmaW5lZCIsInNlbGVjdEFsbCIsInJlbW92ZSIsIm1heCIsIm1pbiIsImkiLCJjIiwibWF4c2NhbGUiLCJzY2FsZSIsImxpbmVhciIsInJhbmdlIiwiZG9tYWluIiwic2l6ZVNjYWxlIiwibGF5b3V0IiwiY2xvdWQiLCJzaXplIiwicm90YXRlIiwiZm9udCIsImZvbnRTaXplIiwiZCIsInRleHQiLCJ3Iiwib24iLCJkcmF3Iiwic3RhcnQiLCJib3VuZHMiLCJNYXRoIiwiYWJzIiwieCIsInkiLCJkYXRhIiwiZW50ZXIiLCJyYW5kb20iLCJpc3N1ZSIsInZhbHVlIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiJjQUFBO0FBQ0E7O0FBRUEsQ0FBQyxZQUFXO0FBQ1YsTUFBTUEsZUFBZUMsU0FBU0MsY0FBVCxDQUF3QixXQUF4QixDQUFyQjtBQUNBLE1BQU1DLFdBQVdGLFNBQVNDLGNBQVQsQ0FBd0IsaUJBQXhCLENBQWpCO0FBQ0EsTUFBTUUsZUFBZSxHQUFyQjs7QUFFQSxNQUFJQyxN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bGUiOiJ3b3JkLWNsb3VkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGQzICovXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuKGZ1bmN0aW9uKCkge1xuICBjb25zdCB3b3JkQ2xvdWREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yZGNsb3VkJyk7XG4gIGNvbnN0IHF1b3RlRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dvcmRjbG91ZC1xdW90ZScpO1xuICBjb25zdCBDTE9VRF9IRUlHSFQgPSA1MDA7XG5cbiAgdmFyIHF1b3RlcztcbiAgdmFyIHN2ZztcbiAgdmFyIGNsb3VkV2lkdGg7XG4gIHZhciBjbG91ZEhlaWdodCA9IENMT1VEX0hFSUdIVDtcbiAgdmFyIHZpcztcbiAgdmFyIGxhc3RXb3JkcztcblxuICB3aW5kb3cuYm9vdHN0cmFwV29yZENsb3VkID0gKCkgPT4ge1xuICAgIGdldFF1b3RlcygpO1xuICAgIGluaXRpYWxpemVEMygpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZS1jb21wbGV0ZScsIHNldFNWR1dpZHRoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBnZXRRdW90ZXMoKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgIHF1b3RlcyA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB4aHIub3BlbignR0VUJywgJ2RhdGEvcXVvdGVzLmpzb24nKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZUQzKCkge1xuICAgIHN2ZyA9IGQzLnNlbGVjdCh3b3JkQ2xvdWREaXYpLmFwcGVuZCgnc3ZnJyk7XG4gICAgc3ZnLmF0dHIoJ2hlaWdodCcsIGNsb3VkSGVpZ2h0KTtcbiAgICBzZXRTVkdXaWR0aCgpO1xuICAgIHdvcmRDbG91ZERpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U1ZHV2lkdGgoKSB7XG4gICAgY2xvdWRXaWR0aCA9IHdvcmRDbG91ZERpdi5vZmZzZXRXaWR0aDtcbiAgICBzdmcuYXR0cignd2lkdGgnLCBjbG91ZFdpZHRoKTtcbiAgICBkb1ZpeigpO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9WaXood29yZHMpIHtcbiAgICBpZiAod29yZHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGxhc3RXb3JkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgd29yZHMgPSBsYXN0V29yZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RXb3JkcyA9IHdvcmRzO1xuICAgIH1cblxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cnKS5yZW1vdmUoKTtcblxuICAgIHZpcyA9IHN2Z1xuICAgICAgLmFwcGVuZCgnZycpXG4gICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICtcbiAgICAgICAgW2Nsb3VkV2lkdGggPj4gMSwgY2xvdWRIZWlnaHQgPj4gMV0gK1xuICAgICAgICAnKScpO1xuXG4gICAgdmFyIG1heCA9IDA7XG4gICAgdmFyIG1pbiA9IDEwMDAwMDA7XG5cbiAgICBmb3IgKHZhciBpIGluIHdvcmRzKSB7XG4gICAgICBpZiAod29yZHNbaV0uYyA+IG1heCkge1xuICAgICAgICBtYXggPSB3b3Jkc1tpXS5jO1xuICAgICAgfVxuXG4gICAgICBpZiAod29yZHNbaV0uYyA8IG1pbikge1xuICAgICAgICBtaW4gPSB3b3Jkc1tpXS5jO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtYXhzY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFs1MCwgMTIwXSkuZG9tYWluKFsxMCwgOTYwXSkoY2xvdWRXaWR0aCk7XG4gICAgdmFyIHNpemVTY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFsxMiwgbWF4c2NhbGVdKS5kb21haW4oW21pbiwgbWF4XSk7XG5cbiAgICBkMy5sYXlvdXQuY2xvdWQoKVxuICAgICAgLnNpemUoW2Nsb3VkV2lkdGgsIGNsb3VkSGVpZ2h0XSlcbiAgICAgIC53b3Jkcyh3b3JkcylcbiAgICAgIC5yb3RhdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfSlcbiAgICAgIC5mb250KCdJbXBhY3QnKVxuICAgICAgLmZvbnRTaXplKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIHNpemVTY2FsZShkLmMpO1xuICAgICAgfSlcbiAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIGQudztcbiAgICAgIH0pXG4gICAgICAub24oJ2VuZCcsIGRyYXcpXG4gICAgICAuc3RhcnQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRyYXcod29yZHMsIGJvdW5kcykge1xuICAgIGNvbnN0IHNjYWxlID0gYm91bmRzID8gTWF0aC5taW4oXG4gICAgICBjbG91ZFdpZHRoIC8gTWF0aC5hYnMoYm91bmRzWzFdLnggLSBjbG91ZFdpZHRoIC8gMiksXG4gICAgICBjbG91ZFdpZHRoIC8gTWF0aC5hYnMoYm91bmRzWzBdLnggLSBjbG91ZFdpZHRoIC8gMiksXG4gICAgICBjbG91ZEhlaWdodCAvIE1hdGguYWJzKGJvdW5kc1sxXS55IC0gY2xvdWRIZWlnaHQgLyAyKSxcbiAgICAgIGNsb3VkSGVpZ2h0IC8gTWF0aC5hYnMoYm91bmRzWzBdLnkgLSBjbG91ZEhlaWdodCAvIDIpKSAvIDIgOiAxO1xuXG4gICAgdmlzXG4gICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcbiAgICAgIC5kYXRhKHdvcmRzKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHJldHVybiBkLnNpemUgKyAncHgnO1xuICAgICAgICB9KVxuICAgICAgICAuc3R5bGUoJ2ZvbnQtZmFtaWx5JywgJ0ltcGFjdCcpXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAncmdiYSgwLDAsMCwnICsgKE1hdGgucmFuZG9tKCkgKiAwLjUwICsgMC4yNSkgKyAnKSc7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBbZC54LCBkLnldICsgJylyb3RhdGUoJyArIGQucm90YXRlICsgJyknO1xuICAgICAgICB9KVxuICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgcmV0dXJuIGQudztcbiAgICAgICAgfSlcbiAgICA7XG5cbiAgICB2aXMuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgW2Nsb3VkV2lkdGggPj4gMSwgY2xvdWRIZWlnaHQgPj4gMV0gKyAnKXNjYWxlKCcgKyBzY2FsZSArICcpJyk7XG4gIH1cblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd29yZGNsb3VkLXNlbGVjdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpc3N1ZSA9IHRoaXMudmFsdWU7XG5cbiAgICB3b3JkQ2xvdWREaXYuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICBkMy5qc29uKCdkYXRhL3dvcmRzLycgKyBpc3N1ZSArICcuanNvbicsIGZ1bmN0aW9uKGVycm9yLCBqc29uKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChxdW90ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBxdW90ZURpdi5pbm5lckhUTUwgPSAnPHA+JyArIHF1b3Rlc1tpc3N1ZV0gKyAnPC9wPic7XG4gICAgICB9XG5cbiAgICAgIGRvVml6KGpzb24pO1xuICAgIH0pO1xuICB9KTtcbn0pKCk7XG4iXX0=\n\n/* global\n    getMessageCount\n    renderFAQ\n    bindFAQ\n    bootstrapWordCloud\n */\n/* eslint-env browser */\n'use strict';\n\n(function () {\n  getMessageCount();\n  renderFAQ();\n  bindFAQ();\n  bootstrapWordCloud();\n\n  var resizeTimer = void 0;\n  window.addEventListener('resize', function (e) {\n    clearTimeout(resizeTimer);\n\n    resizeTimer = setTimeout(function () {\n      var newEvent = new Event('resize-complete');\n      newEvent.originalEvent = e;\n      window.dispatchEvent(newEvent);\n    }, 500);\n  });\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ2V0TWVzc2FnZUNvdW50IiwicmVuZGVyRkFRIiwiYmluZEZBUSIsImJvb3RzdHJhcFdvcmRDbG91ZCIsInJlc2l6ZVRpbWVyIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibmV3RXZlbnQiLCJFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJkaXNwYXRjaEV2ZW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0FBTUE7QUFDQTs7QUFFQSxDQUFDLFlBQVc7QUFDVkE7QUFDQUM7QUFDQUM7QUFDQUM7O0FBRUEsTUFBSUMsb0JBQUo7QUFDQUMsU0FBT0MsZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsVUFBU0MsQ0FBVCxFQUFZO0FBQzVDQyxpQkFBYUosV0FBYjs7QUFFQUEsa0JBQWNLLFdBQVcsWUFBTTtBQUM3QixVQUFNQyxXQUFXLElBQUlDLEtBQUosQ0FBVSxpQkFBVixDQUFqQjtBQUNBRCxlQUFTRSxhQUFULEdBQXlCTCxDQUF6QjtBQUNBRixhQUFPUSxhQUFQLENBQXFCSCxRQUFyQjtBQUNELEtBSmEsRUFJWCxHQUpXLENBQWQ7QUFLRCxHQVJEO0FBU0QsQ0FoQkQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbFxuICAgIGdldE1lc3NhZ2VDb3VudFxuICAgIHJlbmRlckZBUVxuICAgIGJpbmRGQVFcbiAgICBib290c3RyYXBXb3JkQ2xvdWRcbiAqL1xuLyogZXNsaW50LWVudiBicm93c2VyICovXG4ndXNlIHN0cmljdCc7XG5cbihmdW5jdGlvbigpIHtcbiAgZ2V0TWVzc2FnZUNvdW50KCk7XG4gIHJlbmRlckZBUSgpO1xuICBiaW5kRkFRKCk7XG4gIGJvb3RzdHJhcFdvcmRDbG91ZCgpO1xuXG4gIGxldCByZXNpemVUaW1lcjtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICBjbGVhclRpbWVvdXQocmVzaXplVGltZXIpO1xuXG4gICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IG5ld0V2ZW50ID0gbmV3IEV2ZW50KCdyZXNpemUtY29tcGxldGUnKTtcbiAgICAgIG5ld0V2ZW50Lm9yaWdpbmFsRXZlbnQgPSBlO1xuICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xuICAgIH0sIDUwMCk7XG4gIH0pO1xufSkoKTtcbiJdfQ==\n","/*!\n *\n *  Web Starter Kit\n *  Copyright 2015 Google Inc. All rights reserved.\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *    https://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License\n *\n */\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n    );\n\n  if ('serviceWorker' in navigator &&\n      (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n    .then(function(registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function() {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n                // At this point, the old content will have been purged and the\n                // fresh content will have been added to the cache.\n                // It's the perfect time to display a \"New content is\n                // available; please refresh.\" message in the page's interface.\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                                'service worker became redundant.');\n\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  // Your custom JavaScript goes here\n})();\n","/* eslint-env browser */\n'use strict';\n\n(function() {\n  /**\n   * Render the FAQ questions from a file located at /faq.js.\n   */\n  window.renderFAQ = () => {\n    /**\n     * Destination of all FAQ items\n     * @type {Element}\n     */\n    const _destination = document.getElementsByClassName('faq-placeholder')[0];\n\n    /**\n     * Template for each wrapper section, including an image.\n     * @type {Element}\n     */\n    const _section = document.getElementsByClassName('template faq-section')[0];\n    bootstrapTemplate(_section);\n\n    /**\n     * Template for each wrapper subsection, including an image.\n     * @type {Element}\n     */\n    const _subsection =\n      document.getElementsByClassName('template faq-subsection')[0];\n    bootstrapTemplate(_subsection);\n\n    /**\n     * Template for each question.\n     * @type {[type]}\n     */\n    const _question = document\n      .getElementsByClassName('template faq-question')[0];\n    bootstrapTemplate(_question);\n\n    for (let sectionTitle in window.faq) {\n      // Since we're working with a global obj, let's make sure we're not\n      // screwed by accidental prototyping.\n      if (!window.faq.hasOwnProperty(sectionTitle)) {\n        continue;\n      }\n\n      /** @type {object} Shortcut  */\n      const section = window.faq[sectionTitle];\n\n      /** @type {Element} The new section where we're putting the FAQ elements */\n      const _thisSection = _section.cloneNode(true);\n\n      // Fill in template data\n      _thisSection.querySelectorAll('h1')[0].innerHTML = sectionTitle;\n      _thisSection.querySelectorAll('img')[0].src = section.image;\n\n      const _thisDestination = _thisSection.querySelectorAll('.faq-content')[0];\n\n      for (let subsectionTitle in section.questions) {\n        if (!section.questions.hasOwnProperty(subsectionTitle)) {\n          continue;\n        }\n\n        /** @type {object,string} The set of either subsections or questions */\n        const subsection = section.questions[subsectionTitle];\n\n        if (typeof subsection === 'string') {\n          // we have a question\n          addQuestion(subsectionTitle, subsection, _thisDestination);\n        } else {\n          // we have a subsection\n          const _thisSubsection = _subsection.cloneNode(true);\n\n          _thisSubsection.querySelectorAll('h2')[0].innerHTML = subsectionTitle;\n\n          for (let question in subsection) {\n            if (!subsection.hasOwnProperty(question)) {\n              continue;\n            }\n\n            addQuestion(question, subsection[question], _thisSubsection);\n          }\n\n          _thisDestination.appendChild(_thisSubsection);\n        }\n      }\n      // Finally, append to the DOM.\n      _destination.appendChild(_thisSection);\n    }\n\n    /**\n     * Bootstrap a template by removing it from the dom and removing the template class.\n     *\n     * @param {Element} domNode The domNode to bootstrap into a template\n     */\n    function bootstrapTemplate(domNode) {\n      // Remove from DOM\n      domNode.parentNode.removeChild(domNode);\n\n      // Remove the template class\n      domNode.className = domNode.className.replace('template', '');\n    }\n\n    /**\n     * Add a question using the global question template to an Element, appendTo.\n     * @param {string} question question\n     * @param {string} answer answer\n     * @param {Element} appendTo Element to append the question to\n     */\n    function addQuestion(question, answer, appendTo) {\n      const _thisQuestion = _question.cloneNode(true);\n\n      _thisQuestion.querySelectorAll('h3')[0].innerHTML = question;\n      _thisQuestion.querySelectorAll('p')[0].innerHTML = answer;\n\n      appendTo.appendChild(_thisQuestion);\n    }\n  };\n\n  /**\n   * Bind click events and hide elements from the FAQ\n   */\n  window.bindFAQ = () => {\n    const select = '.faq-content';\n\n    const allElements = document.querySelectorAll(select);\n    hide(allElements);\n\n    allElements.forEach(e => {\n      e.style.cursor = 'auto';\n\n      // Prevent the click listener on the parent from affecting this (i.e. re-hiding this element)\n      e.addEventListener('click', function(event) {\n        event.stopPropagation();\n      });\n    });\n\n    const sections = document.querySelectorAll('.faq-section');\n    sections.forEach(e => {\n      e.style.cursor = 'pointer';\n\n      e.addEventListener('click', function() {\n        this.querySelectorAll(select).forEach(toggle);\n      });\n    });\n\n    /**\n     * Toggle the display of an element.\n     *\n     * @param  {element} e The element to toggle.\n     *\n     * @return {element}   The element that was toggled.\n     */\n    function toggle(e) {\n      if (e.style.display === 'none') {\n        return show(e);\n      }\n\n      return hide(e);\n    }\n\n    /**\n     * Hide an element or elements.\n     *\n     * @param  {element|NodeList} e The element(s) to hide\n     *\n     * @return {element} The element hidden\n     */\n    function hide(e) {\n      if (e instanceof NodeList) {\n        e.forEach(hide);\n      } else {\n        e.style.display = 'none';\n      }\n\n      return e;\n    }\n\n    /**\n     * Unhide an element.\n     *\n     * @param  {element} e The element to unhide.\n     *\n     * @return {element} The element unhidden\n     */\n    function show(e) {\n      e.style.display = 'inherit';\n\n      return e;\n    }\n  };\n})();\n","/* eslint-env browser */\n'use strict';\n\n(function() {\n  const MESSAGE_URL = 'http://www.crisistextline.org/trends/data/messages.txt';\n  const messageDiv = document.getElementById('message-count');\n\n  let currentVal = parseInt(messageDiv.innerHTML.replace(/,/g, ''), 10);\n\n  window.getMessageCount = () => {\n    var xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', () => {\n      if (xhr.status === 200) {\n        incrementValue(xhr.responseText);\n      } else {\n        fail();\n      }\n    });\n\n    xhr.addEventListener('error', () => {\n      fail();\n    });\n\n    xhr.open('GET', MESSAGE_URL);\n    xhr.send();\n  };\n\n  /**\n   * Failure handler for a failed XHR request. Let's just populate with a sane,\n   * true-enough value.\n   */\n  function fail() {\n    incrementValue('27212575');\n  }\n\n  /**\n   * Increment the current value by the difference from current to desired / 2.\n   *\n   * @param  {integer} intVal Value we're shooting for\n   */\n  function incrementValue(intVal) {\n    intVal = parseInt(intVal, 10);\n\n    const difference = intVal - currentVal;\n\n    currentVal += Math.ceil(difference / 2);\n\n    updateDisplay();\n\n    if (currentVal !== intVal) {\n      setTimeout(() => {\n        incrementValue(intVal);\n      }, 125 - Math.log(difference) * 5);\n    }\n  }\n\n  /**\n   * Update the display to currentValue, formatted in 1,231,131,232 format\n   */\n  function updateDisplay() {\n    // format the string with commas every 3 places\n    messageDiv.innerHTML = currentVal\n      .toString()\n      .replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n})();\n","/* global d3 */\n/* eslint-env browser */\n\n(function() {\n  const wordCloudDiv = document.getElementById('wordcloud');\n  const quoteDiv = document.getElementById('wordcloud-quote');\n  const CLOUD_HEIGHT = 500;\n\n  var quotes;\n  var svg;\n  var cloudWidth;\n  var cloudHeight = CLOUD_HEIGHT;\n  var vis;\n  var lastWords;\n\n  window.bootstrapWordCloud = () => {\n    getQuotes();\n    initializeD3();\n\n    window.addEventListener('resize-complete', setSVGWidth);\n  };\n\n  function getQuotes() {\n    var xhr = new XMLHttpRequest();\n\n    xhr.addEventListener('load', () => {\n      if (xhr.status === 200) {\n        quotes = JSON.parse(xhr.responseText);\n      }\n    });\n\n    xhr.open('GET', 'data/quotes.json');\n    xhr.send();\n  }\n\n  function initializeD3() {\n    svg = d3.select(wordCloudDiv).append('svg');\n    svg.attr('height', cloudHeight);\n    setSVGWidth();\n    wordCloudDiv.style.display = 'none';\n  }\n\n  function setSVGWidth() {\n    cloudWidth = wordCloudDiv.offsetWidth;\n    svg.attr('width', cloudWidth);\n    doViz();\n  }\n\n  function doViz(words) {\n    if (words === undefined) {\n      if (lastWords === undefined) {\n        return;\n      }\n\n      words = lastWords;\n    } else {\n      lastWords = words;\n    }\n\n    svg.selectAll('g').remove();\n\n    vis = svg\n      .append('g')\n      .attr('transform', 'translate(' +\n        [cloudWidth >> 1, cloudHeight >> 1] +\n        ')');\n\n    var max = 0;\n    var min = 1000000;\n\n    for (var i in words) {\n      if (words[i].c > max) {\n        max = words[i].c;\n      }\n\n      if (words[i].c < min) {\n        min = words[i].c;\n      }\n    }\n\n    var maxscale = d3.scale.linear().range([50, 120]).domain([10, 960])(cloudWidth);\n    var sizeScale = d3.scale.linear().range([12, maxscale]).domain([min, max]);\n\n    d3.layout.cloud()\n      .size([cloudWidth, cloudHeight])\n      .words(words)\n      .rotate(function() {\n        return 0;\n      })\n      .font('Impact')\n      .fontSize(function(d) {\n        return sizeScale(d.c);\n      })\n      .text(function(d) {\n        return d.w;\n      })\n      .on('end', draw)\n      .start();\n  }\n\n  function draw(words, bounds) {\n    const scale = bounds ? Math.min(\n      cloudWidth / Math.abs(bounds[1].x - cloudWidth / 2),\n      cloudWidth / Math.abs(bounds[0].x - cloudWidth / 2),\n      cloudHeight / Math.abs(bounds[1].y - cloudHeight / 2),\n      cloudHeight / Math.abs(bounds[0].y - cloudHeight / 2)) / 2 : 1;\n\n    vis\n      .selectAll('text')\n      .data(words)\n      .enter().append('text')\n        .attr('text-anchor', 'middle')\n        .style('font-size', function(d) {\n          return d.size + 'px';\n        })\n        .style('font-family', 'Impact')\n        .style('fill', function() {\n          return 'rgba(0,0,0,' + (Math.random() * 0.50 + 0.25) + ')';\n        })\n        .attr('text-anchor', 'middle')\n        .attr('transform', function(d) {\n          return 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')';\n        })\n        .text(function(d) {\n          return d.w;\n        })\n    ;\n\n    vis.attr('transform', 'translate(' + [cloudWidth >> 1, cloudHeight >> 1] + ')scale(' + scale + ')');\n  }\n\n  document.getElementById('wordcloud-select').addEventListener('change', function() {\n    var issue = this.value;\n\n    wordCloudDiv.style.display = 'block';\n\n    d3.json('data/words/' + issue + '.json', function(error, json) {\n      if (error) {\n        return console.warn(error);\n      }\n\n      if (quotes !== undefined) {\n        quoteDiv.innerHTML = '<p>' + quotes[issue] + '</p>';\n      }\n\n      doViz(json);\n    });\n  });\n})();\n","/* global\n    getMessageCount\n    renderFAQ\n    bindFAQ\n    bootstrapWordCloud\n */\n/* eslint-env browser */\n'use strict';\n\n(function() {\n  getMessageCount();\n  renderFAQ();\n  bindFAQ();\n  bootstrapWordCloud();\n\n  let resizeTimer;\n  window.addEventListener('resize', function(e) {\n    clearTimeout(resizeTimer);\n\n    resizeTimer = setTimeout(() => {\n      const newEvent = new Event('resize-complete');\n      newEvent.originalEvent = e;\n      window.dispatchEvent(newEvent);\n    }, 500);\n  });\n})();\n"]}